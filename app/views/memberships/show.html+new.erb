<%= render 'spaces/navigation', space: @space %>

<div class="grid grid--gutters--huge grid--reverseDirection grid--full tablet-grid--1of2">
  <div class="grid-cell">
    <h2 class="heading--special"><%= @membership.name %></h2>
    <p class="img--avatar"><%= image_tag membership_picture_url(@membership, size: :large) %></p>
  </div>
  <div class="grid-cell">
    <div class="profile_info">
      <h2 class="heading--special">General Information</h2>
      <% unless @space.hide_default_fields? %>
        <%= markdown @membership.bio %>
        <dl class="no-border">
          <% if @membership.website? %>
            <dt>Website</dt>
            <dd class="website"><%= link_to @membership.website, add_scheme(@membership.website) %></dd>
          <% end %>
          <% [:profession, :industry, :skills].each do |attribute| %>
            <% if @membership.send("#{attribute}?") %>
              <dt class="<%= attribute %>"><%= attribute.to_s.humanize %></dt>
              <dd class="<%= attribute %>"><%= auto_link @membership.send(attribute).to_s, :all, target: '_blank' %></dd>
            <% end %>
          <% end %>
          <% if @membership.messenger_account? && @membership.messenger_type? %>
            <dt class="messenger"><%= @membership.messenger_type %></dt>
            <dd class="messenger">
              <%= format_messenger @membership.messenger_type, @membership.messenger_account %>
            </dd>
          <% end %>
        </dl>
      <% end %>

      <% if @membership.answers.any? %>
        <% unless @space.hide_default_fields? %>
          <h3>Additional information</h3>
        <% end %>
        <dl class="no-border">
          <% @membership.answers.each do |answer| %>
            <% if answer.text? %>
              <dt class="question"><%= answer.question %></dt>
              <dd class="answer"><%= answer.text %></dd>
            <% end %>
          <% end %>
        </dl>
      <% elsif @membership.user == current_user && @space.questions.any? %>
        <p>Please <%= link_to 'add more information', edit_space_membership_path(@space, @membership) %></p>
      <% end %>
    </div>
    <% if current_user && (current_user.admin_of?(@space) || current_user == @membership.user) %>
      <p>
        <%= link_to 'Edit', [:edit, @space, @membership], class: 'btn btn--full btn--blue btn--stretch' %>
      </p>
    <% end %>
  </div>
</div>

<div class="clear"></div>

<p><%= link_to 'back', space_memberships_path(@space) %></p>
